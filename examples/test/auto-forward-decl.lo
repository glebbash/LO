export fn main(): u32 {
    // auto forward decl
    let a = A {
        // auto forward decl
        b: B { x: 42, a: null as &A },
    }
    // auto forward decl
    return calc_answer(a)
}

// auto forward decl for parameters (including struct values)
fn calc_answer(a: A): u32 {
    return a.b.x
}

type B = struct {
    x: u32,
    // auto forward decl (allowed for struct pointers)
    a: &A,
}

type A = struct {
    // NOTE: structs must be defined before their values can be used
    // TODO?: should this be supported at the cost of extra passes?
    b: B,
}
