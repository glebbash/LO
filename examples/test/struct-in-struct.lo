@include("../lib/cli.lo")

type Point2D = struct {
    x: u32,
    y: u32,
}

type Rect = struct {
    tl: Point2D,
    br: Point2D,
}

fn main() {
    let r = Rect {
        tl: Point2D { x: 1, y: 2 },
        br: Point2D { x: 3, y: 4 },
    }
    let br = r.br
    println(br.x.to_tmp_str!())

    println(r.br.x.to_tmp_str!())

    let r_ref = tmp_alloc!<Rect>()
    *r_ref = r
    let r2 = *r_ref
    println(r2.br.x.to_tmp_str!())

    let br2 = r_ref.br
    println(br2.x.to_tmp_str!())

    println((&r_ref.br).x.to_tmp_str!())

    println((*(&r_ref.br)).x.to_tmp_str!())

    println(r_ref.br.x.to_tmp_str!())
}
